<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Personalized Song Generator</title>

  <style>
    body {
      background: #020617;
      color: #e5e7eb;
      font-family: Arial, sans-serif;
      padding: 40px;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    form {
      max-width: 650px;
      margin: 0 auto;
    }

    label {
      display: block;
      margin-top: 18px;
      font-weight: bold;
    }

    input, textarea, select, button {
      width: 100%;
      margin-top: 6px;
      padding: 10px;
      border-radius: 6px;
      border: none;
    }

    textarea {
      min-height: 90px;
    }

    button {
      margin-top: 30px;
      background: #6366f1;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    .section {
      margin-top: 20px;
      padding: 20px;
      border-radius: 8px;
      background: #0f172a;
    }
  </style>
</head>
<body>

<h1>Create Your Personalized Song</h1>

<form id="songForm">

  <label>Song Type</label>
  <select id="songType" required>
    <option value="">Select one</option>
    <option value="love">Love</option>
    <option value="birthday">Birthday</option>
    <option value="celebration">Celebration</option>
  </select>

  <!-- LOVE -->
  <div id="loveFields" class="section" style="display:none;">
    <label>Name</label>
    <input type="text" name="name" />

    <label>Relationship Type</label>
    <input type="text" name="relationshipType" />

    <label>What do you love most?</label>
    <textarea name="loveTraits"></textarea>

    <label>Special Memory</label>
    <textarea name="memory"></textarea>

    <label>Message of the song</label>
    <textarea name="loveMessage"></textarea>
  </div>

  <!-- BIRTHDAY -->
  <div id="birthdayFields" class="section" style="display:none;">
    <label>Name</label>
    <input type="text" name="birthdayName" />

    <label>Age</label>
    <input type="text" name="birthdayAge" />

    <label>Your Relationship</label>
    <input type="text" name="birthdayRelationship" />

    <label>Vibe</label>
    <select name="birthdayVibe">
      <option value="">Select one</option>
      <option value="funny">Funny</option>
      <option value="sweet">Sweet</option>
      <option value="emotional">Emotional</option>
    </select>

    <label>Birthday Memory or Message</label>
    <textarea name="birthdayMemory"></textarea>
  </div>

  <!-- CELEBRATION (REFINED) -->
  <div id="celebrationFields" class="section" style="display:none;">
    <label>Who or what is being celebrated?</label>
    <input type="text" name="celebrationSubject" />

    <label>What is the occasion?</label>
    <input type="text" name="celebrationOccasion" />

    <label>Why does this moment matter?</label>
    <textarea name="celebrationReason"></textarea>

    <label>Overall vibe</label>
    <select name="celebrationVibe">
      <option value="">Select one</option>
      <option value="fun">Fun & playful</option>
      <option value="proud">Proud & triumphant</option>
      <option value="emotional">Emotional & meaningful</option>
      <option value="hype">High-energy & hype</option>
    </select>

    <label>People, moments, or achievements to include</label>
    <textarea name="celebrationDetails"></textarea>

    <label>Optional message the song should convey</label>
    <textarea name="celebrationMessage"></textarea>
  </div>

  <button type="submit">Generate Lyrics</button>
</form>

<script>
  const songType = document.getElementById("songType");
  const love = document.getElementById("loveFields");
  const birthday = document.getElementById("birthdayFields");
  const celebration = document.getElementById("celebrationFields");

  songType.addEventListener("change", () => {
    love.style.display = "none";
    birthday.style.display = "none";
    celebration.style.display = "none";

    if (songType.value === "love") love.style.display = "block";
    if (songType.value === "birthday") birthday.style.display = "block";
    if (songType.value === "celebration") celebration.style.display = "block";
  });

  document.getElementById("songForm").addEventListener("submit", (e) => {
    e.preventDefault();

    const data = { songType: songType.value };
    const fields = e.target.querySelectorAll("input, textarea, select");

    fields.forEach(field => {
      if (field.name) data[field.name] = field.value;
    });

    localStorage.setItem("lyricsFormData", JSON.stringify(data));
    window.location.href = "results.html";
  });
</script>

</body>
</html>
