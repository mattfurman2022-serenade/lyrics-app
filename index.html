<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Personalized Song Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      background: #0f172a;
      color: #e5e7eb;
      font-family: Arial, sans-serif;
      padding: 30px;
    }

    h1 {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input, textarea, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 6px;
      border: none;
    }

    textarea {
      min-height: 80px;
    }

    button {
      margin-top: 25px;
      padding: 14px;
      width: 100%;
      background: #6366f1;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }

    .section {
      display: none;
      margin-top: 20px;
      border-top: 1px solid #334155;
      padding-top: 20px;
    }
  </style>
</head>

<body>

<h1>ðŸŽµ Personalized Song Generator</h1>

<label>Song Type</label>
<select id="songType">
  <option value="">Select a style</option>
  <option value="love">Love</option>
  <option value="tribute">Tribute</option>
  <option value="birthday">Birthday</option>
  <option value="celebration">Celebration</option>
</select>

<!-- ================= LOVE ================= -->
<div id="loveSection" class="section">
  <label>Name</label>
  <input id="loveName" />

  <label>Relationship Type</label>
  <select id="relationshipType">
    <option>Partner</option>
    <option>Crush</option>
    <option>Spouse</option>
    <option>Soulmate</option>
    <option>Secret Love</option>
  </select>

  <label>What do you love most about them?</label>
  <textarea id="loveTraits"></textarea>

  <label>Special Memory</label>
  <textarea id="loveMemory"></textarea>

  <label>Message this song should convey</label>
  <textarea id="loveMessage"></textarea>
</div>

<!-- ================= TRIBUTE ================= -->
<div id="tributeSection" class="section">
  <label>Name</label>
  <input id="tributeName" />

  <label>Relationship</label>
  <input id="tributeRelationship" />

  <label>Why are they important?</label>
  <textarea id="tributeReason"></textarea>

  <label>Tone</label>
  <select id="tributeTone">
    <option>Emotional</option>
    <option>Grateful</option>
    <option>Respectful</option>
    <option>Inspirational</option>
  </select>
</div>

<!-- ================= BIRTHDAY ================= -->
<div id="birthdaySection" class="section">
  <label>Name</label>
  <input id="birthdayName" />

  <label>Age</label>
  <input id="birthdayAge" />

  <label>Relationship</label>
  <input id="birthdayRelationship" />

  <label>Vibe</label>
  <select id="birthdayVibe">
    <option>Fun</option>
    <option>Playful</option>
    <option>Emotional</option>
    <option>Epic</option>
  </select>

  <label>Memory or Message</label>
  <textarea id="birthdayMemory"></textarea>
</div>

<!-- ================= CELEBRATION ================= -->
<div id="celebrationSection" class="section">
  <label>Who or what is being celebrated?</label>
  <input id="celebrationSubject" />

  <label>Occasion</label>
  <input id="celebrationOccasion" />

  <label>Why is this important?</label>
  <textarea id="celebrationReason"></textarea>

  <label>Vibe</label>
  <select id="celebrationVibe">
    <option>Energetic</option>
    <option>Epic</option>
    <option>Proud</option>
    <option>Joyful</option>
  </select>

  <label>Details or message to include</label>
  <textarea id="celebrationDetails"></textarea>
</div>

<button onclick="generateLyrics()">Generate Lyrics</button>

<script>
const songType = document.getElementById("songType");

const sections = {
  love: document.getElementById("loveSection"),
  tribute: document.getElementById("tributeSection"),
  birthday: document.getElementById("birthdaySection"),
  celebration: document.getElementById("celebrationSection")
};

songType.addEventListener("change", () => {
  Object.values(sections).forEach(s => s.style.display = "none");
  if (sections[songType.value]) {
    sections[songType.value].style.display = "block";
  }
});

async function generateLyrics() {
  const type = songType.value;
  let payload = { songType: type };

  if (type === "love") {
    payload = {
      songType: "love",
      name: loveName.value,
      relationshipType: relationshipType.value,
      loveTraits: loveTraits.value,
      memory: loveMemory.value,
      loveMessage: loveMessage.value
    };
  }

  if (type === "tribute") {
    payload = {
      songType: "tribute",
      tributeName: tributeName.value,
      tributeRelationship: tributeRelationship.value,
      tributeReason: tributeReason.value,
      tributeTone: tributeTone.value
    };
  }

  if (type === "birthday") {
    payload = {
      songType: "birthday",
      birthdayName: birthdayName.value,
      birthdayAge: birthdayAge.value,
      birthdayRelationship: birthdayRelationship.value,
      birthdayVibe: birthdayVibe.value,
      birthdayMemory: birthdayMemory.value
    };
  }

  if (type === "celebration") {
    payload = {
      songType: "celebration",
      celebrationSubject: celebrationSubject.value,
      celebrationOccasion: celebrationOccasion.value,
      celebrationReason: celebrationReason.value,
      celebrationVibe: celebrationVibe.value,
      celebrationDetails: celebrationDetails.value
    };
  }

  localStorage.setItem("lyricsRequest", JSON.stringify(payload));
  window.location.href = "results.html";
}
</script>

</body>
</html>
