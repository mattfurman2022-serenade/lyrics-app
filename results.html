<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Your Personalized Lyrics</title>
</head>

<body>
  <h1>Your Personalized Lyrics</h1>

  <div id="output">Loadingâ€¦</div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const name = params.get("name");

    fetch("https://patient-hat-3eee.mattfurman-2022.workers.dev", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name })
    })
    .then(res => res.text())
    .then(text => {
      document.getElementById("output").innerText = text;
    })
    .catch(() => {
      document.getElementById("output").innerText = "Failed to load";
    });
  </script>
</body>
</html>
